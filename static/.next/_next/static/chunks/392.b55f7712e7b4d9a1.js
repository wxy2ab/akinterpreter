"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[392],{8392:function(e,t,a){a.r(t),a.d(t,{default:function(){return x}});var l=a(7437),s=a(2265),i=a(7270),r=e=>{let{initialJson:t,onJsonChange:a}=e,[r,n]=(0,s.useState)(JSON.stringify(t,null,2));return(0,s.useEffect)(()=>{n(JSON.stringify(t,null,2))},[t]),(0,l.jsx)(i.ZP,{height:"100%",defaultLanguage:"json",defaultValue:r,value:r,onChange:e=>{if(void 0!==e){n(e);try{let t=JSON.parse(e);a(t)}catch(e){console.error("Invalid JSON detected:",e)}}},theme:"vs-dark",options:{automaticLayout:!0,wordWrap:"on",formatOnType:!0}})},n=a(7900),c=a(3074),o=a(9565),u=e=>{let{value:t,onChange:a,language:s}=e;return(0,l.jsx)("div",{style:{height:"100%",width:"100%",overflow:"auto"},children:(0,l.jsx)(n.ZP,{value:t,height:"100%",extensions:[(0,c.Vs)()],theme:o.cL,onChange:e=>a(e),basicSetup:{lineNumbers:!0,highlightActiveLineGutter:!0,highlightSpecialChars:!0,foldGutter:!0,drawSelection:!0,dropCursor:!0,allowMultipleSelections:!0,indentOnInput:!0,syntaxHighlighting:!0,bracketMatching:!0,closeBrackets:!0,autocompletion:!0,rectangularSelection:!0,crosshairCursor:!0,highlightActiveLine:!0,highlightSelectionMatches:!0,closeBracketsKeymap:!0,defaultKeymap:!0,searchKeymap:!0,historyKeymap:!0,foldKeymap:!0,completionKeymap:!0,lintKeymap:!0},style:{fontSize:"16px"}})})},d=a(8799),f=a(9354);let h=d.fC,p=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)(d.aV,{ref:t,className:(0,f.cn)("inline-flex h-10 items-center justify-center rounded-md bg-slate-100 p-1 text-slate-500 dark:bg-slate-800 dark:text-slate-400",a),...s})});p.displayName=d.aV.displayName;let g=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)(d.xz,{ref:t,className:(0,f.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-white data-[state=active]:text-slate-950 data-[state=active]:shadow-sm dark:ring-offset-slate-950 dark:focus-visible:ring-slate-300 dark:data-[state=active]:bg-slate-950 dark:data-[state=active]:text-slate-50",a),...s})});g.displayName=d.xz.displayName;let m=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)(d.VY,{ref:t,className:(0,f.cn)("mt-2 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 dark:ring-offset-slate-950 dark:focus-visible:ring-slate-300",a),...s})});m.displayName=d.VY.displayName;var x=e=>{let{currentPlan:t,stepCodes:a,onPlanUpdate:i,onCodeUpdate:n}=e,[c,o]=(0,s.useState)("plan"),[d,f]=(0,s.useState)(null),x=(0,s.useRef)(null),v=e=>{if("object"==typeof e&&null!==e)return e;try{let t=JSON.parse(e);if("object"==typeof t&&null!==t)return t}catch(e){console.error("Invalid JSON string provided, using empty object as fallback.",e)}return{}},y=(0,s.useMemo)(()=>v(t),[t]);return(0,l.jsx)("div",{className:"h-full flex flex-col bg-gray-800",children:(0,l.jsxs)(h,{defaultValue:"plan",className:"w-full h-full flex flex-col",children:[(0,l.jsxs)(p,{className:"flex justify-start border-b border-gray-700 bg-gray-800",children:[(0,l.jsx)(g,{value:"plan",className:"px-4 py-2",children:"Plan"}),Object.keys(a).map((e,t)=>(0,l.jsxs)(g,{value:e,className:"px-4 py-2",children:["Step ",t+1]},e))]}),d&&(0,l.jsx)("div",{className:"error-message text-red-500 p-2",children:d}),(0,l.jsxs)("div",{className:"flex-grow overflow-hidden",children:[(0,l.jsx)(m,{value:"plan",className:"h-full",children:(0,l.jsx)("div",{className:"h-full p-4",children:(0,l.jsx)(r,{initialJson:y,onJsonChange:e=>{x.current&&clearTimeout(x.current),x.current=setTimeout(()=>{try{let t=v(e);i(t)}catch(e){f("Failed to update JSON. Please check the console for more details.")}},2e3)}},JSON.stringify(y))})}),Object.entries(a).map(e=>{let[t,a]=e;return(0,l.jsx)(m,{value:t,className:"h-full",children:(0,l.jsx)("div",{className:"h-full p-4",children:(0,l.jsx)(u,{value:a,onChange:e=>n(t,e),language:"python"})})},t)})]})]})})}}}]);